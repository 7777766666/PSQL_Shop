### :book: PostgreSQL, Spring Framework и Android для начинающего разработчика.

Данная статья была написана [coder-chekunkov](https://github.com/coder-chekunkov) и [uttsvlad](https://github.com/uttsvlad) для начинающих разработчиков. Темы, которые будут затронуты в данной статье: **PostgreSQL**, **Spring Framework** и **Android**. <br/>
Статья опубликована на информационном ресурсе "Habr" - ссылка.

---

Здравствуй, дорогой читатель. Каждый разработчик, независимо от его специальности, сталкивался (или столкнётся во время своей профессиональной карьеры) с задачей, в которой необходимо разработать проект, имеющий базу данных, серверную часть и конечный продукт, взаимодействующий с пользователем. Данная статья поможет новичку разобраться с данной задачей.

В статье будут затронуты такие важные темы, как теория баз данных, реляционная база данных **PostgreSQL**, **Spring Framework** и **Android разработка**. Также будет рассмотрен базовый, не очень сложный пример, который поможет разобраться во всех этих темах и "потрогать" их руками.

Статья предназначена для начинающего разработчика, но имеющего базовые знания о разработке программного обеспечения и языках программирования Java и Kotlin.

Все материалы и исходный код можно найти [здесь](https://github.com/coder-chekunkov/PostgreSQL-Article).

### Что должно получиться?

В конечном итоге должен получиться **маленький pet-проект**, с мобильным приложением, серверной частью и базой данных. 

Основная тема приложения: интернет-магазин, который продаёт какой-то товар.
У конечного пользователя должна быть возможность зарегистрироваться и авторизоваться в интернет-магазине, редактировать свои персональные данные, выбирать и заказывать товар.

*[...gif-изображение с конечным продуктом...]*

### Теория баз данных

Перед тем как изучать PostgreSQL, Spring Framework и Android необходимо **разобраться с основными понятиями баз данных**.

`База данных` - организованная коллекция данных, которая хранится в компьютерной системе и используется для эффективного хранения, управления и доступа к информации. База данных содержит структурированные данные, такие как числа, текст, изображения или другие типы информации, и обеспечивает методы для добавления, изменения, удаления и извлечения данных.

`СУБД (Система Управления Базами Данных)` - программное обеспечение, предназначенное для создания, управления и обработки баз данных. СУБД предоставляет интерфейсы и функциональность, позволяющие пользователям определить структуру данных, добавлять, изменять, удалять и извлекать данные из базы данных, а также выполнять другие операции, связанные с обработкой данных. 

`Сущность базы данных` - объект или объектная модель, который представляет определенный тип данных или информацию, хранящуюся в базе данных. Сущность базы данных также может называться "таблицей" или "классом" в различных моделях баз данных.

`Атрибут базы данных` - конкретная характеристика или свойство, которое определяет определенный аспект сущности базы данных, такой как сущность, таблица или класс. Атрибуты представляют собой конкретные данные, которые хранятся в базе данных.

`ER-диаграмма` - модель данных, позволяющая описывать концептуальные схемы предметной области. ER-модель используется при высокоуровневом проектировании баз данных. С её помощью можно выделить ключевые сущности и обозначить связи, которые могут устанавливаться между этими сущностями.

`Первичный ключ` - уникальный идентификатор, который однозначно идентифицирует каждую запись в таблице базы данных. Он используется для уникальной идентификации записей в таблице и обеспечивает уникальность данных в столбце или наборе столбцов.

`Внешний ключ` - атрибут или набор атрибутов в таблице, который ссылается на первичный ключ (или уникальный ключ) в другой таблице. Он используется для установления связей между таблицами в реляционной базе данных. Внешний ключ служит для определения отношений между записями в разных таблицах и обеспечивает целостность данных.

`Транзакция` - логическая операция или последовательность операций, выполняемых в базе данных, которые образуют единую и неделимую единицу работы. Транзакция может включать операции чтения, записи или модификации данных в базе данных. Главной особенностью транзакции является ее атомарность, то есть она либо выполняется полностью, либо не выполняется совсем.

`Нормализация` - процесс организации данных в базе данных с целью устранения избыточности и аномалий данных, чтобы обеспечить эффективное хранение, манипуляцию и поддержку целостности данных.

`Связь` - способ, с помощью которого данные в различных таблицах базы данных могут быть связаны и взаимодействовать друг с другом. Связи используются для определения отношений между таблицами и обеспечивают эффективную организацию и связность данных в базе данных.

Существует несколько типов связей в реляционных базах данных, таких как:


| Связь | Пояснение | Пример |
| -------- | -------- | -------- |
| Один-к-одному (One-to-One)     |  Один объект в одной таблице связан с одним объектом в другой таблице.     | Таблица "Сотрудники" может быть связана с таблицей "Паспортные данные" с помощью уникального идентификатора сотрудника.     |
| Один-ко-многим (One-to-Many)     | Один объект в одной таблице связан с несколькими объектами в другой таблице.    | Таблица "Отделы" может быть связана с таблицей "Сотрудники", где один отдел может иметь несколько сотрудников, используя общий идентификатор отдела.     |
| Многие-ко-многим (Many-to-Many)    | Множество объектов в одной таблице связано с множеством объектов в другой таблице. Для реализации такой связи требуется дополнительная таблица-связь, которая содержит связи между объектами двух таблиц.| Таблица "Студенты" может быть связана с таблицей "Курсы" через таблицу-связь "Расписание", чтобы отслеживать связи между студентами и курсами.   |


Источники, которые могут **расширить кругозор** по теории баз данных можно найти [здесь](https://metanit.com/sql/), [здесь](https://habr.com/ru/articles/555760/) и [здесь](https://site-do.ru/db/db1.php).

### PostgreSQL и создание базы данных

Теперь следует поговорить о PostgreSQL.

`PostgreSQL` - это свободная объектно-реляционная система управления базами данных (СУБД), которая является одной из наиболее мощных и распространенных СУБД в мире. 

PostgreSQL предоставляет множество возможностей, включая поддержку **SQL** (Structured Query Language), транзакции с поддержкой **ACID** (атомарность, согласованность, изолированность, долговечность), индексы, хранимые процедуры, триггеры и многое другое. Она также обладает **высокой степенью надежности**, масштабируемости и производительности, что делает ее популярным выбором для различных приложений, включая веб-сайты, системы управления контентом, финансовые приложения и т.д. 

В первую очередь, при разработке базы данных, необходимо **составить ER-диаграмму**, которая наглядно отобразит будущую систему.

![](https://hackmd.io/_uploads/BkLWAWBNh.png)

| Таблица | Пояснение | 
| -------- | -------- | 
|USER|Содержит данные пользователей, такие как ФИО, email и пароль, хранящийся в зашифрованном виде|
| PRODUCT|Хранит данные продуктов: ссылка на изображение, название, цена|
|CART|Сопоставляет пользователя с его корзиной и продуктами в ней. Вспомогательной является таблица CART_PRODUCTS|

Ниже приведен **SQL-скрипт, который создаёт базу данных**:

```sql
create table _user
(
    id          bigserial not null,
    email       varchar(255),
    first_name  varchar(255),
    last_name   varchar(255),
    middle_name varchar(255),
    password    varchar(255),
    primary key (id)
)

create table cart
(
    id      bigserial not null,
    user_id bigint,
    primary key (id)
)

create table cart_products
(
    cart_id     bigint not null,
    products_id bigint not null
)

create table product
(
    id    bigserial not null,
    image varchar(255),
    name  varchar(255),
    price float(53),
    primary key (id)
)

alter table if exists cart_products
    add constraint UK_3kg5kx19f8oy0lo76hdhc1uw1 unique (products_id)

alter table if exists cart
    add constraint FKil7wc86wc3xs4je2ghfenn854 foreign key (user_id) references _user

alter table if exists cart_products
    add constraint FKhyhnx21758m3wmbi4ps96m0yw foreign key (products_id) references product

alter table if exists cart_products
    add constraint FKnlhjc091rdu9k5c8u9xwp280w foreign key (cart_id) references cart
```

Также привём SQL-скрипт, который **заполняет базу данных тестовыми значениями**:

```sql
insert into product
values (default,
        'https://static.wikia.nocookie.net/fnaf-fanon-animatronics/images/4/40/%D0%91%D0%B0%D0%BD%D0%B0%D0%BD.png/revision/latest?cb=20190614113143&path-prefix=ru',
        'Banana', 179.90),
       (default,
        'https://m.dom-eda.com/uploads/images/catalog/item/86df51de21/c25c94fe96_1000.jpg',
        'Apple', 199.90),
       (default,
        'https://media.vprok.ru/products/x700/tn/u6/uyt2yc2e337ofqf7vsfm4cdomdxwu6tn.jpeg',
        'Strawberry', 250.00),
       (default,
        'https://foodcity.ru/storage/products/October2018/8No9uQ14ycYG7UluJEaM.jpg',
        'Pineapple', 419.90),
       (default,
        'https://eden-g.com/assets/images/products/1645/gridjpgbigest/qiwi-m.jpg',
        'Kiwi', 315.90),
       (default,
        'https://fruit-berries.ru/images/cms/thumbs/3a031f89ff2849f64a5233c90f77a8ac353f35bb/durian-800x1000_483_483_jpg_5_92.jpg',
        'Durian', 899.00),
       (default,
        'https://ecomarket.ru/imgs/products/13647/mango-sochnoe---600-g-1.1632501465.JPG',
        'Mango', 510.90)
```

### Sptring Framework

`Spring Framework` - это популярный фреймворк для разработки приложений на языке Java. Он предоставляет различные инструменты и функции, которые упрощают разработку приложений, такие как управление зависимостями, инверсия управления, а также возможность использования различных модулей для реализации конкретной функциональности.






